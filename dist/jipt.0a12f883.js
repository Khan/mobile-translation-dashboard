parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"ttqo":[function(require,module,exports) {
function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}!function(i){var n,a=null,o={updatedStrings:[],newStrings:[]},s=navigator.userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile|Windows Phone/i),r={preload_texts:"auto",project:document.domain,before_dom_insert:function(t){return t},before_commit:null,edit_strings_context:null,touch_optimized:"ontouchstart"in document.documentElement,escape:null,domain:null},l={save:function(t,e){full_key="jipt_"+t+"_"+p(),window.localStorage?localStorage.setItem(full_key,e):function(t,e){var i=new Date((new Date).getTime()+31536e6);document.cookie=t+"="+escape(e)+"; path=/; expires="+i.toGMTString()}(full_key,e)},get:function(t){var e=null,i="jipt_"+t+"_"+p();return window.localStorage?"undefined"===(e=localStorage.getItem(i)?localStorage.getItem(i):null)?void 0:e:function(t){for(var e=document.cookie.split(";"),i="",n="",a=!1,o=0;o<e.length;o++){if((i=e[o].split("="))[0].replace(/^\s+|\s+$/g,"")===t)return a=!0,i.length>1&&(n=unescape(i[1].replace(/^\s+|\s+$/g,""))),n;i=null}if(!a)return null}(i)}},d={join:"join",login:"login",enterpriseLogin:"u/signin",entryPoint:"",jiptCDN:"https://cdn.crowdin.com/jipt",crowdinDomain:"crowdin.com",getEntryPoint:function(){if(0===this.entryPoint.length){var t=null!=r.domain?r.domain+".":"";this.entryPoint="https://"+t+this.crowdinDomain}return this.entryPoint},getFullUrl:function(t){return this.getEntryPoint()+(r.domain?"/backend":"")+t},getJiptPath:function(t){var e;return e=t==this.join||t==this.login?r.domain?this.enterpriseLogin:t:this.login,this.getEntryPoint()+"/"+e+"?redirect_hash="+_.user.redirect_hash}},p=function(){return r.project},c=function(t,e,i){var n,a=!1;"js"===e?((n=document.createElement("script")).setAttribute("type","text/javascript"),n.setAttribute("src",t)):"css"===e&&((n=document.createElement("link")).setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",t)),void 0!==n&&(n.onload=n.onreadystatechange=function(){a||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(a=!0,i&&i(),n.onload=n.onreadystatechange=null)},document.getElementsByTagName("head")[0].appendChild(n))},u=function(t){return t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):""},_=window.crowdinState={callbacks:{},phrases:{},_phrases:{need_load:{},was_loaded:{},callbacks:[],load_timeout:null},projectLink:null,projectId:null,projectName:null,projectURL:null,editor:{currentTranslation:null},target_languages:[],workflowSteps:[],language:{code:null,id:0,name:""},workflowStep:{id:0,type:""},source_language:{code:null},user:{is_logged_in:!0,is_leader:!0,is_manager:!1,name:"",login:"",picture:"",redirect_hash:""},regexp:{placeholders:null,startPhrase:/{crwdns(\d+):(\d)}/i,globalStartPhrase:/{crwdns(\d+):\d}/gi,globalPhrase:/{crwdns(\d+):(\d)}([\s\S]*?){crwdne\1:\2}/gi,exactPhrase:/^{crwdns(\d+):(\d)}([\s\S]*?){crwdne\1:\2}$/i,delimiterPart:function(t,e){return"{crwdnd"+t+":"+e+"}"},endPart:function(t,e){return"{crwdne"+t+":"+e+"}"},wrapText:function(t){return"{crwdns0:0}"+t+"{crwdne0:0}"}},regexp_new:{startPhrase:/crwdns(\d+):(\d)/i,globalStartPhrase:/crwdns(\d+):\d/gi,globalPhrase:/crwdns(\d+):(\d)([\s\S]*?)crwdne\1:\2/gi,exactPhrase:/^crwdns(\d+):(\d)([\s\S]*?)crwdne\1:\2$/i,delimiterPart:function(t,e){return"crwdnd"+t+":"+e},endPart:function(t,e){return"crwdne"+t+":"+e},wrapText:function(t){return"crwdns0:0"+t+"crwdne0:0"}},status:{untranslated:"untranslated",partially_translated:"partially_translated",translated:"translated",partially_approved:"partially_approved",approved:"approved",hidden:"hidden",not_found:"not_found",not_visible_on_step:"not_visible_on_step"},plurals_preview:!1,translatable_placeholders:[],translation_preview:{id:!1,value:"",plural_id:-1},alertFunction:null,confirmFunction:null,promptFunction:null,loginDialog:null,editorDialog:null,translationDialog:null,dialog_zindex:2047483647,minimized_translation_panel:!0,translations_preview:null,translations_highlight:null,translations_filter:null,touch_optimized:null,panel_search_phrase:null,rebuild_panel_timeout:null,panel_page:0,panel_pages:1,open_hotkeys_settings:!1,open_editor_settings:!1,editor_loaded:!1,editorDialogIframe:null,not_found_warning:"[Unrecognized text]",loginDialogContent:function(){var t="";return r.domain||(t='<div class="jipt-register-block jipt-help-block">Don\'t have a profile? <a target="_blank" href="javascript:void(0)" id="crowdin-join">Sign Up</a></div>'),'<div class="crowdin-login-panel" style="display: none;"><div id="Jipt_Language"><div class="language-group"><label for="crowdin-login-language-field">Target Language:</label><div><select class="no-margin input-block-level" id="crowdin-login-language-field"></select></div></div></div><div id="Jipt_Workflow_Step"><div class="workflow-step-group hide"><label class="jipt-s-margin-right" for="crowdin-login-workflow-step-field">Workflow Step:</label><div><select class="no-margin input-block-level" id="crowdin-login-workflow-step-field"></select></div></div></div><hr class="jipt-hr"><div class="jipt-clearfix text-center"><h4 class="no-margin-top">Sign in with your Crowdin account</h4><div id="regular_login"><button type="submit" class="jipt-btn" id="crowdin-jipt-login">Sign In</button>'+t+'</div></div></div><div class="crowdin-languages-panel" style="display: none;"><div><label for="crowdin-language-field">Target Language: </label><div><select class="input-block-level" id="crowdin-language-field"></select></div></div><div class="workflow-step-group hide"><label for="crowdin-workflow-step-field">Workflow Step: </label><div><select class="input-block-level" id="crowdin-workflow-step-field"></select></div></div><div><button type="button" class="jipt-btn" id="crowdin-select-language-and-step" style="margin-top: 10px;">Select</button></div></div><div class="crowdin-login-failed" style="display: none;"><div class="crowdin-jipt-alert" style="margin-bottom: 30px;"><b>Login failed.</b> Check that third-party cookies are enabled in your browser and try again.</div><h4 class="crowdin-login-failed-help-heading" style="display: none;">Allowing Third-Party Cookies to Be Set</h4><ol class="crowdin-login-failed-help-safari" style="margin: 0 0 20px 20px; display: none;"><li>Click <strong>Safari</strong> in the menu bar.</li><li>Click <strong>Preferences...</strong></li><li>Click the <strong>Privacy</strong> panel.</li><li>For the option <strong>Block cookies and other website data</strong>, select <strong>Never</strong>.</li></ol><ol class="crowdin-login-failed-help-chrome" style="margin: 0 0 20px 20px; display: none;"><li>Click the <strong>Chrome menu</strong> in the upper right of the window.</li><li>Click <strong>Settings</strong>.</li><li>Click <strong>Show advanced settings...</strong></li><li>Open <strong>Content settings...</strong></li><li>Ensure the option <strong>Allow local data to be set (recommended)</strong> is selected.</li><li>Ensure the checkbox labelled <strong>Block third-party cookies and site data</strong> is <strong>unchecked</strong>.</li></ol><ol class="crowdin-login-failed-help-ie" style="margin: 0 0 20px 20px; display: none;"><li>Click the <strong>cog menu</strong> in the upper right of the window.</li><li>Click <strong>Internet Options</strong>.</li><li>Click the <strong>Privacy</strong> tab.</li><li>Click and drag the slider in the <strong>Settings</strong> section to the bottom, to <strong>Accept All Cookies</strong>.</li><li>Click <strong>OK</strong>.</li></ol><ol class="crowdin-login-failed-help-firefox" style="margin: 0 0 20px 20px; display: none;"><li>Click the <strong>Firefox</strong> menu.</li><li>Open the <strong>Options</strong> window.<li>Click <strong>Options</strong> (in Windows) or <strong>Preferences...</strong> (in OS X)</li><li>Click the <strong>Privacy</strong> panel.</li><li>In the <strong>History</strong> section, select <strong>Firefox will: Remember history</strong>.</li></ol><ol class="crowdin-login-failed-help-opera" style="margin: 0 0 20px 20px; display: none;"><li>Click the "Opera" menu.</li><li>Click "Settings".</li><li>Select "Privacy & Security" on the left list.</li><li>Open <strong>Content settings...</strong></li><li>Ensure the option <strong>Allow local data to be set (recommended)</strong> is selected.</li><li>Ensure the checkbox labelled <strong>Block third-party cookies and site data</strong> is <strong>unchecked</strong>.</li></ol><input type="button" class="jipt-btn crowdin-jipt-to-login" value="Back to Login"></div>'},translationDialogButtons:function(){return'<div class="jipt-clearfix"><ul id="translation_panel_tabs" class="jipt-tabs pull-left"><li><a id="show_translations" class="jipt-btn active jipt-btn-icon" href="#jipt-translations"><i class="jipt-icon-home"></i></a></li><li><a id="show_options" href="#jipt-options" class="jipt-btn jipt-btn-icon"><i class="jipt-icon-options"></i></a></li></ul><div id="translation_panel_paging_wrapper" class="pull-right"><form id="translation_panel_paging" class="jipt-paging no-margin jipt-clearfix" style="display: none;"><input type="text" class="pull-left" id="translation_panel_current_page" size="5"><div class="pull-right"><a href="#" class="jipt-panel-page jipt-btn jipt-btn-icon" id="translation_panel_prev_page"><i class="jipt-icon-prev"></i></a><a href="#" class="jipt-panel-page jipt-btn jipt-btn-icon" id="translation_panel_next_page"><i class="jipt-icon-next"></i></a></div></form></div></div>'},translationDialogContent:function(){var t=!0===_.translations_preview?" checked":"",e=!0===_.translations_highlight?" checked":"",i=!0===_.translations_filter?" checked":"",n=!0===_.touch_optimized?" checked":"",a=_.user.login,o=_.user.name,l=_.user.picture,p=l?'src="'+l+'"':"",c=d.getEntryPoint()+"/profile/"+a,u='<div class="jipt-control-group"><label class="jipt-checkbox"><input type="checkbox" id="jipt-translations-preview"'+t+">Preview translations</label></div>",g='<div class="jipt-control-group"><label class="jipt-checkbox"><input type="checkbox" id="jipt-translations-highlight"'+e+">Highlight</label></div>",h=r.preload_texts?'<div class="jipt-control-group"><label class="jipt-checkbox"><input type="checkbox" id="jipt-translations-filter"'+i+'>List only texts from the current page</label><div class="jipt-help-block">Home screen will show only strings used on this page.</div></div>':"",f=(n=r.touch_optimized?'<div class="jipt-control-group"><label class="jipt-checkbox"><input type="checkbox" id="jipt-touch-optimized"'+n+">Touch optimized mode</label></div>":"",s?"":'<div class="jipt-control-group jipt-settings-toggle"><a href="javascript:void(0);" id="jipt-hotkeys-settings">Keyboard Shortcuts</a></div>'),m="";return _.workflowSteps.length&&(m='<div class="jipt-control-group workflow-step-group"><label for="jipt-workflow-step">Workflow Step: </label><div><select class="input-block-level" id="jipt-workflow-step"></select></div></div>'),'<div class="crowdin-translation-panel-container"><div id="translation_panel_tabs_content" class="jipt-tabs-content"><div class="jipt-tab-pane" id="jipt-translations"><div class="jipt-clear-btn-wrapper"><input type="text" class="jipt-search-phrase input-block-level" placeholder="Type to search string" /><a class="jipt-clear-btn" href="#" style="display: none;"></a></div><div class="jipt-phrases-container no-focus"><ul class="jipt-phrases-to-translate"><li class="jipt-loading-msg">Loading...</li></ul></div></div><div class="jipt-tab-pane" id="jipt-options" style="display: none"><div class="jipt-control-group"><label for="jipt-target-languages">Language: </label><div><select class="input-block-level" id="jipt-target-languages"></select></div></div>'+m+'<div><button type="button" class="jipt-btn" id="jipt-change-language-and-step">Change</button></div><hr class="jipt-hr">'+u+g+h+n+'<hr class="jipt-hr jipt-settings-toggle"><div class="jipt-control-group jipt-clearfix jipt-settings-toggle"><a class="pull-left jipt_user" target="_blank" href="'+c+'"><img alt="" '+p+' class="jipt_user_picture"></a><div style="margin-left: 54px"><div class="jipt_user_name"><a target="_blank" href="'+c+'">'+o+'</a></div><button type="button" id="jipt-logout" class="jipt-btn">Log Out</button></div></div><hr class="jipt-hr jipt-settings-toggle"><div class="jipt-control-group jipt-settings-toggle"><a target="_blank" href="'+_.projectURL+'">View in Crowdin</a></div><div class="jipt-control-group jipt-settings-toggle"><a href="javascript:void(0);" id="jipt-editor-settings">Editor Settings</a></div>'+f+"</div></div></div>"},init:function(){(function(){var t,e,i,n,a,o="";document.documentElement.style.opacity="0",(t=document.createElement("div")).setAttribute("id","crowdin-jipt-mask"),t.setAttribute("style","position: fixed;top: 0;right: 0;bottom: 0;left: 0;z-index: 2037483647;text-align: center;background-color: #fff;"),a=document.documentElement.clientHeight/2-25,o+="height: 40px;",o+="width: 40px;",o+="background-image: url("+d.jiptCDN+"/images/preloader.gif);",o+="background-repeat: no-repeat;",o+="background-position: center center;",o+="display: inline-block;",o+="margin-top: "+a+"px;",(e=document.createElement("div")).setAttribute("style",o),n=window.setInterval(function(){void 0!==(i=document.getElementsByTagName("body")[0])&&(window.clearInterval(n),i.appendChild(t),t.appendChild(e),document.documentElement.style.opacity="")},100)})(),function(){for(var t=_jipt||[],e=0;e<t.length;e++)r[t[e][0]]=t[e][1]}(),c(d.jiptCDN+"/jipt.css?v3","css"),c(d.jiptCDN+"/lib/jquery.min.js","js",function(){n=jQuery.noConflict(!0),_.init_plugins(),_.init_editor_listener(),n(document).ready(function(){_.init_login_panel(),_.init_highlight(),_.init_preview(),_.init_filter(),_.init_touch_optimized(),_.init_project()})})},init_plugins:function(){_.init_jipt_dialog(),_.init_mouse_touch_events(),_.init_drags(),_.init_center_position()},init_icu:function(){c(d.jiptCDN+"/../js/lib/moment.min.js","js"),c(d.jiptCDN+"/../js/lib/icu/Intl.complete.min.js","js"),c(d.jiptCDN+"/../js/lib/icu/messageformatLight.js","js")},init_jipt_dialog:function(){n.fn.jiptDialog=function(t){function e(t){var e;p.hasClass("jipt-dialog-minimized")?(p.removeClass("jipt-dialog-minimized"),l.get(r.attr("id")+"_normal")?(e=JSON.parse(l.get(r.attr("id")+"_normal")),p.css(e)):p.css("top",n(window).height()-p.outerHeight()-10+"px")):t||(e={top:p.offset().top-n(window).scrollTop(),left:p.offset().left-n(window).scrollLeft()},l.save(r.attr("id")+"_normal",JSON.stringify(e)),p.addClass("jipt-dialog-minimized"))}function i(){var e,i;switch(t.position){case"center":!1===t.fixed?p.center(window,!0):p.center();break;case"bottom-left":e=n(window).height()-p.outerHeight()-10+n(window).scrollTop(),p.css({top:(e<0?0:e)+"px",left:"10px"});break;case"bottom-right":e=n(window).height()-p.outerHeight()-10+n(window).scrollTop(),i=n(window).width()-p.outerWidth()-10+n(window).scrollLeft(),p.css({top:(e<0?0:e)+"px",left:(i>0?0:i)+"px"});break;default:!1===t.fixed?p.center(window,!0):p.center()}}function a(){n(window).unload(function(){if(p.is(":visible")){var t={top:p.offset().top-n(window).scrollTop(),left:p.offset().left-n(window).scrollLeft()};l.save(r.attr("id"),JSON.stringify(t)),p.hasClass("jipt-dialog-minimized")?l.save(r.attr("id")+"_min","yes"):l.save(r.attr("id")+"_min","no")}})}function o(){if("yes"===l.get(r.attr("id")+"_min")&&p.addClass("jipt-dialog-minimized"),l.get(r.attr("id"))){var t=JSON.parse(l.get(r.attr("id"))),e=n(window).width()-p.outerWidth(),o=n(window).height()-p.outerHeight();t.left<0?t.left=0:t.left>e&&(t.left=e),t.top<0?t.top=0:t.top>o&&(t.top=o),p.css(t),a()}else i(),a()}function s(){p.css("z-index",_.dialog_zindex+=1).siblings(".jipt-dialog").removeClass("active-dialog").end().addClass("active-dialog")}t=n.extend({modal:!1,position:"",save_position:!1,drags:!0,resize:!1,fixed:!0,title_pane:"",minimize_btn:!0,close_btn:!0,minimized:!1,icon:"",buttons_pane:"",width:"auto",height:"auto",save_height:!1,custom_class:"",close_callback:"",iframe:!1,action:"init"},t);var r=n(this),p={},c={};if("init"===t.action||(p=r.parent()).hasClass("jipt-dialog"))switch(t.action){case"init":return function(){if(r.hasClass("jipt-dialog-content"))console.warn("Crowdin In-Context dialog: seems that dialog is already initialized.");else{if(p=n('<div class="jipt-dialog crowdin-jipt '+t.custom_class+'" style="display:none">'),r.addClass("jipt-dialog-content"),p.appendTo("body"),t.iframe){var e=r.html(),a=n('<iframe class="crowdin-jipt" frameBorder="0"/>');a.css({width:"100%",display:"block",overflow:"hidden",height:t.height}),r.empty().append(a).css("padding",0),p.html(r);var u=a.contents()[0];u.open(),u.write('<!doctype html><html><head><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900" rel="stylesheet"><link rel="stylesheet" type="text/css" href="'+d.jiptCDN+'/jipt.css"/></head><body style="margin: 0" id ="'+r.get(0).id+'" class="jipt-dialog-content crowdin-jipt '+t.custom_class+'">'+e+"</body></html>"),u.close(),(c=a.contents()).mousedown(function(t){0===n(t.target).closest(".no-focus").length&&s()})}else p.html(r),c=r;var _=r.attr("id"),g=t.icon?" jipt-dialog-icon-"+t.icon:"",h=t.close_btn?'<a href="#" data-id="#'+_+'" class="jipt-close-btn jipt-dialog-close">&times;</a>':"",f=t.minimize_btn?'<a href="#" data-id="#'+_+'" class="jipt-minimize-btn jipt-dialog-minimize"><span></span></a>':"",m="",v="",w="";if(t.title_pane&&(m='<div class="jipt-dialog-title jipt-dialog-drags jipt-clearfix'+g+'">'+t.title_pane+"</div>"),(h||f)&&(v='<div class="jipt-dialog-title-buttons jipt-clearfix">'+h+f+"</div>"),r.before(v+m),t.buttons_pane&&(w='<div class="jipt-dialog-buttons jipt-dialog-drags jipt-clearfix">'+t.buttons_pane+"</div>",r.after(w)),p.css("position",!0===t.fixed?"fixed":"absolute"),p.width("auto"===t.width?p.width():t.width),r.height(t.height),r.append('<div class="jipt-dialog-content-mask" style="display: none; height:'+r.height()+'px;"><div>'),t.save_height&&!t.iframe&&p.data("save_height",!0),t.modal&&(p.data("modal",!0),n("#jipt-modal-mask").length||n(n("<div>").attr("id","jipt-modal-mask").css("display","none")).appendTo("body")),t.drags&&t.title_pane){var b=!0===t.fixed?"fixed":"absolute";p.udraggable({position:b,handle:".jipt-dialog-drags"})}t.resize&&p.addClass("jipt-dialog-resize"),t.minimized&&"no"!==l.get(r.attr("id")+"_min")&&p.addClass("jipt-dialog-minimized"),p.find(".jipt-dialog-close").click(function(){return r.jiptDialog({action:"close"}),!1}),p.find(".jipt-dialog-minimize").click(function(){return r.jiptDialog({action:"toggle_minimized"}),!1}),p.find(".jipt-dialog-title").on("utap",function(){p.hasClass("jipt-dialog-minimized")&&r.jiptDialog({action:"toggle_minimized_show"})}),p.on("jipt_dialog_close",function(){t.close_callback&&t.close_callback()}),t.save_position?o():i()}}(),c;case"open":p.data("modal")&&(n("#jipt-modal-mask").css("z-index",_.dialog_zindex+=1).show(),n("html").addClass("jipt-no-scroll")),""===t.position||p.is(":visible")||i(),s(),p.css("visibility","visible"),p.css("display","block"),p.data("save_height")&&r.height(r.height()).css("overflow","auto");break;case"close":p.data("modal")&&(n("html").removeClass("jipt-no-scroll"),n("#jipt-modal-mask").hide()),p.css("display","none"),p.trigger("jipt_dialog_close");break;case"destroy":p.data("modal")&&n("#jipt-modal-mask").hide(),p.remove();break;case"toggle_minimized":e();break;case"toggle_minimized_show":e(!0);break;case"center":p.center();break;case"is_visible":return p.is(":visible");case"move_to_front":s();break;default:return void console.warn("Crowdin JIPT dialog: unknown action :(")}else console.warn("Crowdin In-Context dialog: seems that dialog is not initialized.")},n(document).on("mousedown utapstart",function(t){var e=n(t.target).closest(".jipt-dialog");e.length?e.find(".jipt-dialog-content").jiptDialog({action:"move_to_front"}):n(".jipt-dialog").removeClass("active-dialog")})},init_mouse_touch_events:function(){var t,e,i,a,o,s,r,l,d,p,c,u,_,g,h,f,m,v=n.event.special,w={},b=!1,j=-1,x=!1,y={bound_ns_map:{},wheel_ratio:15,px_radius:1,ignore_class:":input",tap_time:200,held_tap_time:300},k=[];l=function(t){var e,i=0;for(e=this.length;e;0)this[--e]===t&&i++;return i},d=function(t){var e,i=0;for(e=this.length;e;0)this[--e]===t&&(this.splice(e,1),i++,e++);return i},p=function(t){return!l.call(this,t)&&(this.push(t),!0)},t=(c=function(t){if(t&&n.isArray(t)){if(t.remove_val)return console.warn("The array appears to already have listPlus capabilities"),t}else t=[];return t.remove_val=d,t.match_val=l,t.push_uniq=p,t})(),e={setup:function(e,i,a){var o,s,r,l,d,p=this,u=n(p),_={};if(!n.data(this,"ue_bound")){for(o={},n.extend(!0,o,y),n.data(p,"ue_bound",o),(d=c(i.slice(0))).length&&""!==d[0]||(d=["000"]),s=0;s<d.length;s++)(r=d[s])&&(_.hasOwnProperty(r)||(_[r]=!0,l=".__ue"+r,u.bind("mousedown"+l,f),u.bind("touchstart"+l,m),u.bind("mousewheel"+l,void 0)));t.push_uniq(p),b||(n(document).bind("mousemove.__ue",f),n(document).bind("touchmove.__ue",m),n(document).bind("mouseup.__ue",f),n(document).bind("touchend.__ue",m),n(document).bind("touchcancel.__ue",m),b=!0)}},add:function(t){var e,i,a,o,s=n.data(this,"ue_bound"),r=t.namespace,l=t.type;if(s&&((e=s.bound_ns_map)[l]||(e[l]={}),r))for(i=r.split("."),a=0;a<i.length;a++)o=i[a],e[l][o]=!0},remove:function(t){var e,i,a,o=n.data(this,"ue_bound").bound_ns_map,s=t.type,r=t.namespace;if(o[s])if(r){for(e=r.split("."),i=0;i<e.length;i++)a=e[i],o[s][a]&&delete o[s][a];n.isEmptyObject(o[s])&&delete o[s]}else delete o[s]},teardown:function(e){var i,a,o,s,r=this,l=n(r),d=n.data(r,"ue_bound").bound_ns_map;if(n.isEmptyObject(d)){for((s=c(e)).push_uniq("000"),i=0;i<s.length;i++)(a=s[i])&&(o=".__ue"+a,l.unbind("mousedown"+o),l.unbind("touchstart"+o),l.unbind("mousewheel"+o));n.removeData(r,"ue_bound"),t.remove_val(this),0===t.length&&(n(document).unbind("mousemove.__ue"),n(document).unbind("touchmove.__ue"),n(document).unbind("mouseup.__ue"),n(document).unbind("touchend.__ue"),n(document).unbind("touchcancel.__ue"),b=!1)}}},u=function(t){var e,i=+new Date,o=t.motion_id,s=t.motion_map,r=t.bound_ns_map;delete s.idto_tapheld,s.do_allow_tap&&(s.px_end_x=s.px_start_x,s.px_end_y=s.px_start_y,s.ms_timestop=i,s.ms_elapsed=i-s.ms_timestart,r.uheld&&(e=n.Event("uheld"),n.extend(e,s),n(s.elem_bound).trigger(e)),r.uheldstart?(e=n.Event("uheldstart"),n.extend(e,s),n(s.elem_bound).trigger(e),a=o):delete w[o])},_=function(t){var e,i,a,l,d=t.motion_id,p=t.event_src,c=t.request_dzoom,_=n.data(t.elem,"ue_bound"),g=_.bound_ns_map,h=n(p.target),f=!1;if(!w[d]&&(!c||g.uzoomstart)&&!(h.is(_.ignore_class)||h.is("a")||h.parent().is("a"))){for(p.preventDefault(),a=!!(g.utap||g.uheld||g.uheldstart),i=k.pop();i;)h.is(i.selector_str)||n(t.elem).is(i.selector_str)?i.callback_match&&i.callback_match(t):i.callback_nomatch&&i.callback_nomatch(t),i=k.pop();if(e={do_allow_tap:a,elem_bound:t.elem,elem_target:p.target,ms_elapsed:0,ms_timestart:p.timeStamp,ms_timestop:void 0,option_map:_,orig_target:p.target,px_current_x:p.clientX,px_current_y:p.clientY,px_end_x:void 0,px_end_y:void 0,px_start_x:p.clientX,px_start_y:p.clientY,timeStamp:p.timeStamp},w[d]=e,l=n.Event("utapstart"),n.extend(l,e),n(e.elem_bound).trigger(l),g.uzoomstart&&(c?o=d:s?r||(r=d,l=n.Event("uzoomstart"),f=!0):s=d,f))return l=n.Event("uzoomstart"),e.px_delta_zoom=0,n.extend(l,e),void n(e.elem_bound).trigger(l);(g.uheld||g.uheldstart)&&(e.idto_tapheld=setTimeout(function(){u({motion_id:d,motion_map:e,bound_ns_map:g})},_.held_tap_time))}},g=function(t){var e,l,d,p,c,u,_,g,h=t.motion_id,f=t.event_src,m=!1;if(w[h]){if(f.preventDefault(),d=(l=(e=w[h]).option_map).bound_ns_map,e.timeStamp=f.timeStamp,e.elem_target=f.target,e.ms_elapsed=f.timeStamp-e.ms_timestart,e.px_delta_x=f.clientX-e.px_current_x,e.px_delta_y=f.clientY-e.px_current_y,e.px_current_x=f.clientX,e.px_current_y=f.clientY,e.timeStamp=f.timeStamp,e.do_allow_tap&&(Math.abs(e.px_delta_x)>l.px_radius||Math.abs(e.pd_delta_y)>l.px_radius||e.ms_elapsed>l.tap_time)&&(e.do_allow_tap=!1),s&&r&&(h===s||h===r)?(w[h]=e,_=w[s],g=w[r],c=Math.floor(Math.sqrt(Math.pow(_.px_current_x-g.px_current_x,2)+Math.pow(_.px_current_y-g.px_current_y,2))+.5),u=-1===j?0:4*(c-j),j=c,m=!0):o===h&&d.uzoommove&&(u=1*e.px_delta_y,m=!0),m)return p=n.Event("uzoommove"),e.px_delta_zoom=u,n.extend(p,e),void n(e.elem_bound).trigger(p);a===h?d.uheldmove&&(p=n.Event("uheldmove"),n.extend(p,e),n(e.elem_bound).trigger(p)):i===h&&d.udragmove&&(p=n.Event("udragmove"),n.extend(p,e),n(e.elem_bound).trigger(p)),i||a||!d.udragstart||!1!==e.do_allow_tap||(i=h,p=n.Event("udragstart"),n.extend(p,e),n(e.elem_bound).trigger(p),e.idto_tapheld&&(clearTimeout(e.idto_tapheld),delete e.idto_tapheld))}},h=function(t){var e,l,d,p,c=t.motion_id,u=t.event_src,_=!1;x=!1,w[c]&&(d=(l=(e=w[c]).option_map).bound_ns_map,e.elem_target=u.target,e.ms_elapsed=u.timeStamp-e.ms_timestart,e.ms_timestop=u.timeStamp,e.px_current_x&&(e.px_delta_x=u.clientX-e.px_current_x,e.px_delta_y=u.clientY-e.px_current_y),e.px_current_x=u.clientX,e.px_current_y=u.clientY,e.px_end_x=u.clientX,e.px_end_y=u.clientY,e.timeStamp=u.timeStamp,p=n.Event("utapend"),n.extend(p,e),n(e.elem_bound).trigger(p),e.idto_tapheld&&(clearTimeout(e.idto_tapheld),delete e.idto_tapheld),d.utap&&e.ms_elapsed<=l.tap_time&&e.do_allow_tap&&(p=n.Event("utap"),n.extend(p,e),n(e.elem_bound).trigger(p)),c===i&&(d.udragend&&(p=n.Event("udragend"),n.extend(p,e),n(e.elem_bound).trigger(p)),i=void 0),c===a&&(d.uheldend&&(p=n.Event("uheldend"),n.extend(p,e),n(e.elem_bound).trigger(p)),a=void 0),c===o?(_=!0,o=void 0):c===s&&(r?(s=r,r=void 0,_=!0):s=void 0,j=-1),c===r&&(r=void 0,j=-1,_=!0),_&&d.uzoomend&&(p=n.Event("uzoomend"),e.px_delta_zoom=0,n.extend(p,e),n(e.elem_bound).trigger(p)),delete w[c])},m=function(t){var e,i,n,a,o=+new Date,s=t.originalEvent.changedTouches||[];switch(x=!0,t.timeStamp=o,t.type){case"touchstart":a=_;break;case"touchmove":a=g;break;case"touchend":case"touchcancel":a=h;break;default:a=null}if(a)for(e=0;e<s.length;e++)i=s[e],n="touch"+String(i.identifier),t.clientX=i.clientX,t.clientY=i.clientY,a({elem:this,motion_id:n,event_src:t})},f=function(t){var e,i="mouse"+String(t.button),n=!1;if(x)t.stopImmediatePropagation();else{if(t.shiftKey&&(n=!0),"mousemove"!==t.type&&0!==t.button)return!0;switch(t.type){case"mousedown":e=_;break;case"mouseup":e=h;break;case"mousemove":e=g;break;default:e=null}e&&e({elem:this,event_src:t,request_dzoom:n,motion_id:i})}},v.ue=v.utap=v.uheld=v.uzoomstart=v.uzoommove=v.uzoomend=v.udragstart=v.udragmove=v.udragend=v.uheldstart=v.uheldmove=v.uheldend=e,n.ueSetGlobalCb=function(t,e,i){k.push({selector_str:t||"",callback_match:e||null,callback_nomatch:i||null})}},init_drags:function(){"use strict";var e=Math.floor,i=Math.min,a=Math.max;window.requestAnimationFrame=window.requestAnimationFrame||function(t){return setTimeout(t,10)},window.cancelAnimationFrame=window.cancelAnimationFrame||function(t){return clearTimeout(t)};var o=function(t,e){var i=this;this.el=t,this.$el=n(t),this.options=n.extend({},n.fn.udraggable.defaults,e),this.positionElement=this.options.positionElement||this.positionElement,this.getStartPosition=this.options.getStartPosition||this.getStartPosition,this.updatePositionFrameHandler=function(){if(delete i.queuedUpdate,i.ui){var t=i.ui.position;i.positionElement(i.$el,i.started,t.left,t.top),i.options.dragUpdate&&i.options.dragUpdate.apply(i.el,[i.ui])}},this.queuePositionUpdate=function(){i.queuedUpdate||(i.queuedUpdate=window.requestAnimationFrame(i.updatePositionFrameHandler))},this.init()};o.prototype={constructor:o,init:function(){var t=this;this.disabled=!1,this.started=!1,this.normalisePosition();var e=this.options.handle?this.$el.find(this.options.handle):this.$el;e.on("utapstart.udraggable",function(t){n(document.body).addClass("draggable")}).on("utapend.udraggable",function(t){n(document.body).removeClass("draggable")}),this.options.longPress?e.on("uheldstart.udraggable",function(e){t.start(e)}).on("uheldmove.udraggable",function(e){t.move(e)}).on("uheldend.udraggable",function(e){t.end(e)}):e.on("udragstart.udraggable",function(e){t.start(e)}).on("udragmove.udraggable",function(e){t.move(e)}).on("udragend.udraggable",function(e){t.end(e)})},destroy:function(){(this.options.handle?this.$el.find(this.options.handle):this.$el).off(".udraggable"),this.$el.removeData("udraggable")},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},option:function(){var e;if(0===arguments.length)return this.options;if(2!==arguments.length){if(1===arguments.length){if("string"==typeof arguments[0])return this.options[arguments[0]];if("object"==t(arguments[0]))for(e in arguments[0])arguments[0].hasOwnProperty(e)&&(this.options[e]=arguments[0][e])}this.options.containment&&this._initContainment()}else this.options[arguments[0]]=arguments[1]},normalisePosition:function(){var t=this.$el.position();this.$el.css({position:this.options.position,top:t.top,left:t.left,right:"auto",bottom:"auto"})},start:function(t){if(!this.disabled){var e=this.getStartPosition(this.$el);return this._initContainment(),this.ui={helper:this.$el,offset:{top:e.y,left:e.x},originalPosition:{top:e.y,left:e.x},position:{top:e.y,left:e.x}},this.options.longPress&&this._start(t),this._stopPropagation(t)}},move:function(t){if(!this.disabled&&(this.started||this._start(t))){var e=t.px_current_x-t.px_start_x,i=t.px_current_y-t.px_start_y,n=this.options.axis;n&&"x"===n&&(i=0),n&&"y"===n&&(e=0);var a={left:this.ui.originalPosition.left,top:this.ui.originalPosition.top};n&&"x"!==n||(a.left+=e),n&&"y"!==n||(a.top+=i),this._applyGrid(a),this._applyContainment(a);var o=this.ui.position;return a.top===o.top&&a.left===o.left||(this.ui.position.left=a.left,this.ui.position.top=a.top,this.ui.offset.left=a.left,this.ui.offset.top=a.top,this.options.drag&&this.options.drag.apply(this.el,[t,this.ui]),this.queuePositionUpdate()),this._stopPropagation(t)}},end:function(t){return(this.started||this._start(t))&&(this.$el.removeClass("udraggable-dragging"),this.started=!1,this.queuedUpdate&&window.cancelAnimationFrame(this.queuedUpdate),this.updatePositionFrameHandler(),this.options.stop&&this.options.stop.apply(this.el,[t,this.ui])),this._stopPropagation(t)},_stopPropagation:function(t){return t.stopPropagation(),t.preventDefault(),!1},_start:function(t){if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t))return this.started=!0,this.queuePositionUpdate(),this.options.start&&this.options.start.apply(this.el,[t,this.ui]),this.$el.addClass("udraggable-dragging"),!0},_mouseDistanceMet:function(t){return a(Math.abs(t.px_start_x-t.px_current_x),Math.abs(t.px_start_y-t.px_current_y))>=this.options.distance},_mouseDelayMet:function(t){return t.ms_elapsed>this.options.delay},_initContainment:function(){var t,e=this.options;e.containment?e.containment.constructor!==Array?("parent"===e.containment&&(e.containment=this.$el.offsetParent()),(t=n(e.containment))[0]&&(this.containment=[0,0,t.innerWidth()-this.$el.outerWidth(),t.innerHeight()-this.$el.outerHeight()])):this.containment=e.containment:this.containment=null},_applyGrid:function(t){if(this.options.grid){var i=this.options.grid[0],n=this.options.grid[1];t.left=e((t.left+i/2)/i)*i,t.top=e((t.top+n/2)/n)*n}},_applyContainment:function(t){var e=this.containment;e&&(t.left=i(a(t.left,e[0]),e[2]),t.top=i(a(t.top,e[1]),e[3]))},getStartPosition:function(t){return{x:parseInt(t.css("left"),10)||0,y:parseInt(t.css("top"),10)||0}},positionElement:function(t,e,i,n){t.css({left:i,top:n})}},n.fn.udraggable=function(t){var e=Array.prototype.slice.call(arguments,1),i=[];return this.each(function(){var a=n(this),s=a.data("udraggable");if(s||(s=new o(this,t),a.data("udraggable",s)),"string"==typeof t){if("function"!=typeof s[t])throw"jquery.udraggable has no '"+t+"' method";var r=s[t].apply(s,e);void 0!==r&&i.push(r)}}),i.length>0?i[0]:this},n.fn.udraggable.defaults={axis:null,delay:0,distance:0,longPress:!1,position:"fixed",drag:null,start:null,stop:function(){n(document.body).removeClass("draggable")}}},init_center_position:function(){n.fn.center=function(t,e){t=t?this.parent():window;var i=0,a=0;e&&(i=n(t).scrollTop(),a=n(t).scrollLeft());var o=(n(t).height()-this.outerHeight())/2+i,s=(n(t).width()-this.outerWidth())/2+a;return o=o<0?0:o,s=s<0?0:s,this.css({top:o+"px",left:s+"px"}),this}},place_close_btn:function(){"function"==typeof r.escape&&n('<a id="jipt-close-btn">').html("&times;").attr("href","#").appendTo("#jipt-modal-mask").click(function(t){t.preventDefault(),r.escape()})},init_login_panel:function(){_.loginDialog=n("<div>").attr("id","jipt-login-panel").html(_.loginDialogContent()),_.loginDialog.content=_.loginDialog.jiptDialog({modal:!0,width:Math.min(window.innerWidth-2,window.outerWidth-2,400)+"px",height:"400px",drags:!0,minimize_btn:!1,close_btn:!1,iframe:!0,custom_class:"jipt-login-dialog",title_pane:'<div style="text-align: center"><div style="min-height: 32px"><svg class="crowdin-jipt-logo" width="173" height="32"><image xlink:href="'+d.jiptCDN+'/images/crowdin-logo-small.svg" src="'+d.jiptCDN+'/images/crowdin-logo-small.png" width="173" height="32" alt="Crowdin &mdash Localization Management Platform" /></svg></div><h3 class="crowdin-jipt-login-header">Crowdin In-Context Translations</h3></div>'}),_.loginDialog.content.find("#crowdin-login-language-field").change(function(){_.loginDialog.content.find("#crowdin-login-workflow-step-field").html(_.getWorkflowStepsOptions(n(this).val()))}),_.loginDialog.content.find("#crowdin-language-field").change(function(){_.loginDialog.content.find("#crowdin-workflow-step-field").html(_.getWorkflowStepsOptions(n(this).val()))}),_.loginDialog.content.find("#crowdin-jipt-login").click(function(){return _._login_action(),!1}),_.loginDialog.content.find("#crowdin-join").click(function(){return _._join_action(),!1}),_.loginDialog.content.find("#crowdin-select-language-and-step").click(function(){var t=_.loginDialog.content.find("#crowdin-language-field option:selected");_.set_current_language(t.val(),t.data("id"),t.html());var e=_.loginDialog.content.find("#crowdin-workflow-step-field option:selected");return _.setCurrentWorkflowStep(e.val(),e.html()),_.loginDialog.jiptDialog({action:"close"}),_.init_project(),!1}),_.loginDialog.content.find(".crowdin-jipt-to-login").click(function(){_.show_login_panel()})},init_highlight:function(){"no"!==l.get("highlight")?(_.translations_highlight=!0,n("body").addClass("jipt-highlight")):(_.translations_highlight=!1,n("body").removeClass("jipt-highlight"))},init_preview:function(){"no"!==l.get("preview")?_.translations_preview=!0:_.translations_preview=!1},init_filter:function(){r.preload_texts&&"yes"!==l.get("filter")?_.translations_filter=!1:_.translations_filter=!0},init_touch_optimized:function(){r.touch_optimized&&"no"!==l.get("touch_optimized")?(n("#crowdin-translation-badge").remove(),_.touch_optimized=!0):_.touch_optimized=!1},init_translation_panel:function(){var t=null;_.translationDialog=n("<div>").attr("id","crowdin-translation-panel").html(_.translationDialogContent()),_.translationDialog.content=_.translationDialog.jiptDialog({width:Math.min(window.innerWidth-2,window.outerWidth-2,400)+"px",height:"400px",drags:!0,save_position:!0,save_height:!0,close_btn:!1,iframe:!0,position:"bottom-left",custom_class:"jipt-translations-dialog",icon:"crowdin",minimized:_.minimized_translation_panel,title_pane:"<h4>Crowdin In-Context</h4>",buttons_pane:_.translationDialogButtons()}),_.translationDialog.jiptDialog({action:"open"});var e=_.translationDialog.content.find("#jipt-target-languages");e.html(_._get_target_languages_options()),_.translationDialog.content.find("#jipt-workflow-step").html(_.getWorkflowStepsOptions(n(e).val())),_.load_phrases(),_.translationDialog.content.find("#jipt-target-languages").change(function(){_.translationDialog.content.find("#jipt-workflow-step").html(_.getWorkflowStepsOptions(n(this).val()))}),_.translationDialog.content.find("#jipt-change-language-and-step").click(function(){var t=_.translationDialog.content.find("#jipt-target-languages").find("option:selected");_.set_current_language(t.val(),t.data("id"),t.html());var e=_.translationDialog.content.find("#jipt-workflow-step").find("option:selected");_.setCurrentWorkflowStep(e.val(),e.html()),window.location.reload()}),_.translationDialog.content.find("#jipt-logout").click(function(){return _._logout_action(),!1}),_.translationDialog.content.find("#jipt-translations-preview").change(function(){n(this).prop("checked")?l.save("preview","yes"):l.save("preview","no"),_.init_preview(),_.set_translations_preview()}),_.translationDialog.content.find("#jipt-translations-highlight").change(function(){n(this).prop("checked")?l.save("highlight","yes"):l.save("highlight","no"),_.init_highlight()}),_.translationDialog.content.find("#jipt-translations-filter").change(function(){n(this).prop("checked")?l.save("filter","yes"):l.save("filter","no"),_.init_filter(),_.rebuild_panel_phrases(_.panel_search_phrase)}),_.translationDialog.content.find("#jipt-touch-optimized").change(function(){n(this).prop("checked")?l.save("touch_optimized","yes"):l.save("touch_optimized","no"),_.init_touch_optimized(),_.set_translations_preview()}),_.translationDialog.content.on("click",".jipt-phrases-to-translate li:not(.disabled) a",function(){return _.show_editor(_.phrases[this.rel]),!1}),_.translationDialog.content.on("click","#jipt-hotkeys-settings",function(){return _.show_settings("hotkeys"),!1}),_.translationDialog.content.on("click","#jipt-editor-settings",function(){return _.show_settings("editor"),!1}),n("#translation_panel_tabs a").click(function(){return n(this).hasClass("active")||(n(this).closest("ul").find("a").removeClass("active"),n(this).addClass("active"),_.translationDialog.content.find("#translation_panel_tabs_content .jipt-tab-pane").hide(),_.translationDialog.content.find(n(this).attr("href")).show()),!1}),n("#show_translations").click(function(){_.panel_pages&&n("#translation_panel_paging_wrapper").show(),_.translationDialog.parent().removeClass("jipt_options")}),n("#show_options").click(function(){n("#translation_panel_paging_wrapper").hide(),_.translationDialog.parent().addClass("jipt_options")}),_.translationDialog.content.find(".jipt-search-phrase").on("input propertychange",function(){clearTimeout(t),_.panel_search_phrase=this.value;var e=n(this).parent().find(".jipt-clear-btn");_.panel_search_phrase?e.show():e.hide(),t=setTimeout(function(){_.rebuild_panel_phrases(_.panel_search_phrase)},300)}),n("#translation_panel_prev_page").click(function(){return _.panel_page>0&&_.rebuild_panel_phrases(_.panel_search_phrase,_.panel_page-1),!1}),n("#translation_panel_next_page").click(function(){return _.panel_page+1<_.panel_pages&&_.rebuild_panel_phrases(_.panel_search_phrase,_.panel_page+1),!1}),_.translationDialog.content.find(".jipt-clear-btn").click(function(){var t=n(this).siblings('input[type="text"]').val("");return _.panel_search_phrase="",_.rebuild_panel_phrases(),n(this).hide(),t.focus(),!1}),n("#translation_panel_current_page").click(function(){return n(this).val(_.panel_page+1),n(this).select(),!1}),n("#translation_panel_paging").submit(function(){var t=n("#translation_panel_current_page").val();return _.rebuild_panel_phrases(_.panel_search_phrase,t-1),n("#translation_panel_current_page").blur(),!1})},init_project:function(t){var e=p(),i=l.get("language_code"),n=l.get("workflow_step_id")||void 0,a=l.get("language_id"),o=l.get("language_name");t=t||{},_.ajax(d.getFullUrl("/jipt/init_project"),{project:e,origin:document.location.protocol+"//"+document.location.host,path_name:document.location.pathname,language_code:i||"",workflow_step_id:n,preload_texts:r.preload_texts},function(e){r.preload_texts=JSON.parse(e.preload_texts),_.user.redirect_hash=e.redirect_hash,_.user.is_logged_in=e.is_logged_in,_.user.is_leader=e.is_leader,_.user.is_manager=e.is_manager,_.user.login=e.login,_.user.name=e.user_name,_.user.picture=e.user_picture,_.user.workflow_step_id=e.workflow_step_id,_.workflow_step_ids=e.workflow_step_ids,_.source_language.code=e.source_language_code,_.target_languages=e.target_languages,_.workflowSteps=e.workflow_steps||[],_.projectLink=e.editor_link,_.projectId=e.project_id,_.projectName=e.project_name,_.projectURL=e.project_url,_.regexp.placeholders=new RegExp(e.placeholders_regexp,"gi"),_.plurals_preview=e.plurals_preview,_.has_icu=e.has_icu,e.is_logged_in&&i&&o&&a&&!e.missed_language?(_.language.code=i,_.language.id=a,_.language.name=o,_.workflowStep.id=n,_.init_translations()):e.is_logged_in?_.show_languages_panel():t.just_logged_id?_.show_login_failed_panel():_.show_login_panel()})},init_translations:function(){_.alertFunction=window.alert,window.alert=function(){return _.handle_browser_popups(_.alertFunction,this,arguments)},_.confirmFunction=window.confirm,window.confirm=function(){return _.handle_browser_popups(_.confirmFunction,this,arguments)},_.promptFunction=window.prompt,window.prompt=function(){return _.handle_browser_popups(_.promptFunction,this,arguments)},_.has_icu&&_.init_icu(),_.init_editor(),_.init_translation_panel()},handle_browser_popups:function(t,e,arguments){for(var i=[],n=0;n<arguments.length;n++)arguments[n]=arguments[n].replace(_.regexp.globalPhrase,function(t,e,n){var a=_.phrases[e];if(a){i.push(a);var o=_.get_source_segment(a,n),s=_.phrase2preview(a,a.is_icu?_.get_icu_placeholders(o,t):_.get_placeholders(o,t),n);return r.edit_strings_context&&_.update_strings_context(a.id,a.context),!1===(s=r.before_dom_insert(s))?t:s}return _._load_phrases_delayed(t,function(){}),t});var a=t.apply(e,arguments);return i.length>0&&_.show_editor(i[0]),a},init_dom_mutation_handler:function(){var t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;t&&new t(function(t){t.forEach(function(t){_.handle_dom_mutation(t)})}).observe(document.body,{attributes:!0,childList:!0,characterData:!0,subtree:!0,characterDataOldValue:!0,attributeOldValue:!0})},handle_dom_mutation:function(t){if("childList"===t.type){for(var e=0;e<t.addedNodes.length;e++)_.crowdin_each_element(t.addedNodes[e]);t.removedNodes.length&&_.translations_filter&&_.remove_phrases_not_on_page()}if("characterData"===t.type&&3===t.target.nodeType&&_.match_element_text(t.target,t.target.parentNode),_.check_if_jipt_class_was_removed(t)){var i=t.oldValue.match(/crowdin_jipt_[^\s-]+/);i[0]&&n(t.target).addClass(i[0])}"attributes"===t.type&&_.match_element_attributes(t.target)},check_if_jipt_class_was_removed:function(t){return"attributes"===t.type&&"class"===t.attributeName&&"function"==typeof t.target.className.indexOf&&-1===t.target.className.indexOf("crowdin_jipt_")&&t.oldValue&&-1!==t.oldValue.indexOf("crowdin_jipt_")},remove_phrases_not_on_page:function(){for(var t in _.phrases){var e=_.phrases[t];if(e.elements)for(var i=0;i<e.elements.length;i++)if(!n(document.body).find(e.elements[i].element).length&&(e.elements.splice(i,1),!e.elements.length)){delete e.elements;break}}_.delayed_rebuild_panel_phrases()},load_phrases:function(){for(var t in this.status)n(".crowdin_jipt_"+this.status[t]).removeClass("crowdin_jipt_"+this.status[t]);var e=_.get_phrases_from_text(document.documentElement.innerHTML);n.isEmptyObject(e)&&(n.extend(_.regexp,_.regexp_new),e=_.get_phrases_from_text(document.documentElement.innerHTML)),_.user.is_manager&&n.isEmptyObject(e)&&"yes"!==l.get("no_phrases_warning_disabled")&&this._show_no_texts_warning(),_._load_phrases(e,[function(){var t;document.getElementsByTagName("title").length&&_.handle_document_title(document.getElementsByTagName("title")[0]),_.crowdin_each_element(document.body),_.init_dom_mutation_handler(),(t=document.getElementById("crowdin-jipt-mask"))&&t.parentNode.removeChild(t)}])},init_editor:function(){var t=650,e=document.documentElement.clientHeight;t=t+110>e?e-110:t,_.editorDialog=n('<div id="crowdin-editor">'),_.editorDialog.jiptDialog({width:Math.min(window.innerWidth-2,window.outerWidth-2,550)+"px",height:t+"px",save_position:!0,modal:!1,drags:!0,resize:!0,icon:"crowdin",custom_class:"jipt-editor-dialog",close_callback:function(){_.place_translation_preview(),n(".jipt-selected").removeClass("jipt-selected")},title_pane:"<h4>Translating to "+_.language.name+"</h4>",buttons_pane:'<div class="jipt-dialog-buttons-wrapper"><abbr id="jipt-preview-available-msg" title="Preview is not available since plural forms of source and target languages do not match">No preview available</abbr></div>'}),_.editorDialog.append('<iframe frameBorder="0" id="crowdin-editor-iframe"></iframe>'),_.editorDialogIframe=n("iframe#crowdin-editor-iframe"),_.editorDialogIframe.css({width:"100%",display:"block",overflow:"hidden",height:t+"px"}),_.editorDialogIframe.attr("src",_.projectLink)},send_post_message:function(t){t=JSON.stringify(t),_.editorDialogIframe.length&&_.editorDialogIframe.get(0).contentWindow.postMessage(t,_.projectLink)},init_editor_listener:function(){window.onmessage=function(t){if((t=t||window.event).origin===d.getEntryPoint()){var e=JSON.parse(t.data);switch(e.msg_type){case"edit_translation":_.editor.currentTranslation&&!1!==_.translations_preview&&_.editorDialog.jiptDialog({action:"is_visible"})&&(e.value.length>0?_.place_translation_preview(e.translation_id,e.value,e.plural_id):_.place_translation_preview());break;case"update_phrase":case"update_translation":var i=_.editor.currentTranslation;if(_.editor.currentTranslation=_.phrases[e.translation_id],"top_suggestion"in e){var n=e.plural_id>=0?e.plural_id:0;_.editor.currentTranslation.translation[n]=e.top_suggestion,_.editor.currentTranslation.status=e.translation_status,_.place_translation_preview()}else _.editor.currentTranslation.hidden=e.translation.hidden?"1":"0";_.update_phrase_dom_highlight(),_.update_phrase_highlight(),_.editor.currentTranslation=i;break;case"next_translation":_.editor.currentTranslation&&(_.place_translation_preview(),_.show_next_element(_.editor.currentTranslation.active_element));break;case"prev_translation":_.editor.currentTranslation&&(_.place_translation_preview(),_.show_prev_element(_.editor.currentTranslation.active_element));break;case"success":_.editor_loaded=!0,_.setup_jipt_validation(),_.editor.currentTranslation&&_.show_editor(_.editor.currentTranslation,_.editor.currentTranslation.active_element);break;case"close_editor":_.editorDialog.jiptDialog({action:"close"});break;case"focus":_.editorDialog.jiptDialog({action:"move_to_front"});break;case"before_commit":_.handle_before_commit_request(e.request_id,e.data);break;case"save_suggestions":_.handle_save_suggestions(e.data);break;case"editor_settings":_.editor_settings();break;case"close_editor_settings":_.open_editor_settings=!1,_.close_editor_dialog();break;case"hotkeys_settings":_.hotkeys_settings();break;case"close_hotkeys_settings":_.open_hotkeys_settings=!1,_.close_editor_dialog();break;case"logged_out":window.location.reload();break;default:return}}}},close_editor_dialog:function(){n(".jipt-dialog-title h4",".jipt-editor-dialog").text("Translating to "+_.language.name),_.editor.currentTranslation||_.open_editor_settings||_.open_hotkeys_settings||_.editorDialog.jiptDialog({action:"close"})},setup_jipt_validation:function(){var t={msg_type:"setup_jipt_validation",validation_enabled:null!==r.before_commit};_.send_post_message(t)},handle_before_commit_request:function(t,e){var i={msg_type:"before_commit_result",request_id:t,result:r.before_commit(e.source,e.translation,e.context,e.language)};_.send_post_message(i)},handle_save_suggestions:function(t){if(!this.callbacks.save_suggestions)return!1;"function"==typeof this.callbacks.save_suggestions&&this.callbacks.save_suggestions(t)},set_draft_suggestion:function(t,e){var i={msg_type:"set_draft_suggestion",translation_id:t,text:e};_.send_post_message(i)},save_suggestions:function(t,e,i){this.callbacks.save_suggestions=i;var n={msg_type:"save_suggestions",suggestions:t,force_saving:e};_.send_post_message(n)},editor_settings:function(){_.open_editor_settings=!0,_.send_post_message({msg_type:"editor_settings"})},hotkeys_settings:function(){_.open_hotkeys_settings=!0,_.send_post_message({msg_type:"hotkeys_settings"})},place_translation_preview:function(t,e,i){if(_.translation_preview.id=t,_.translation_preview.value=e,_.translation_preview.plural_id=i>=0?i:0,_.editor.currentTranslation){var n,a=_.editor.currentTranslation.elements;if(a)for(var o=0;o<a.length;o++)n=_.phrase2preview(_.phrases[a[o].id],a[o].placeholders,a[o].plural_id),!1!==(n=!1!==a[o].attr?r.before_dom_insert(n,a[o].element,a[o].attr):r.before_dom_insert(n,a[o].element))&&(!1!==a[o].attr?(a[o].element.setAttribute(a[o].attr,n),r.touch_optimized&&!_.touch_optimized&&_.hide_translation_badge(a[o].element)):void 0!==a[o].element.innerHTML?a[o].element.innerHTML=n:a[o].element.textContent=n,_.touch_optimized&&_.show_translation_badge(a[o].element))}},set_translations_preview:function(){var t=_.editor.currentTranslation;for(var e in _.phrases)_.editor.currentTranslation=_.phrases[e],_.place_translation_preview();_.editor.currentTranslation=t},crowdin_each_element:function(t){if("crowdin-translation-panel"!==t.id&&"crowdin-editor"!==t.id){if(_.match_element_attributes(t),t.hasChildNodes())for(var e=0;e<t.childNodes.length;e++)_.crowdin_each_element(t.childNodes[e]),_.match_element_attributes(t.childNodes[e]);if(t&&3===t.nodeType&&t.nodeValue.length){var i=t.nodeValue.match(_.regexp.startPhrase);i&&(t.nodeValue.toLowerCase().indexOf(_.regexp.endPart(i[1],i[2]))>-1?_.match_element_text(t,t.parentNode):_.match_element_html(t,i[1],i[2]))}}},match_element_text:function(t,e){if(e&&"SCRIPT"!==e.nodeName&&t.parentNode){var i=t.nodeValue.match(_.regexp.exactPhrase),a=t.parentNode.childNodes.length;if(i&&1===a)_.phrases[i[1]]?_.handle_element(t.parentNode,_.phrases[i[1]],i[2]):_._load_phrases_delayed(t.nodeValue,function(){_.match_element_text(t,e)});else{var o=t.nodeValue.replace(_.regexp.globalPhrase,'<span class="crowdin_phrase">$&</span>');if(o!==t.nodeValue){n(t).replaceWith(o);for(var s=0;s<e.childNodes.length;s++){var r=e.childNodes[s];"crowdin_phrase"===r.className&&3===r.firstChild.nodeType&&_.match_element_text(r.firstChild,r)}}}}},match_element_html:function(t,e,i){if(t.parentNode){var a=t.parentNode.innerHTML.match(_.regexp.exactPhrase);if(a)_.phrases[a[1]]?_.handle_element(t.parentNode,_.phrases[a[1]],a[2]):_._load_phrases_delayed(t.parentNode.innerHTML,function(){_.match_element_html(t,e,i)});else{var o=t,s=[],r="",l=!0;do{if(s.push(o),r+=o.nodeValue?u(o.nodeValue):o.outerHTML,3===o.nodeType&&o.nodeValue.toLowerCase().indexOf(_.regexp.endPart(e,i))>-1){l=!1;break}o=o.nextSibling}while(o);if(l)return;r=r.replace(_.regexp.globalPhrase,'<span class="crowdin_phrase">$&</span>');var d=t.parentNode;for(n(s[0]).before(r),p=0;p<s.length;p++)d.removeChild(s[p]);for(var p=0;p<d.childNodes.length;p++){var c=d.childNodes[p];"crowdin_phrase"===c.className&&3===c.firstChild.nodeType&&_.crowdin_each_element(c)}}}},match_element_attributes:function(t){var e,i,a,o=n(t);if(t&&t.attributes)for(t.value&&!t.getAttribute("value")&&t.setAttribute("value",t.value),a=0;a<t.attributes.length;a++)i=(e=t.attributes.item(a)).nodeValue.replace(_.regexp.globalPhrase,function(i,n,a){var s=_.phrases[n];if(s){_.translatable_placeholders=[];var l=_.get_source_segment(s,a),d=s.is_icu?_.get_icu_placeholders(l,i):_.get_placeholders(l,i),p=_.phrase2preview(s,d,a);if(e.nodeValue.length===i.length){s.elements||(s.elements=[],_.delayed_rebuild_panel_phrases());var c={id:s.id,element:t,placeholders:d,attr:e.nodeName,plural_id:a};_.addPhraseToElement(o,c),s.elements.push(c);for(var u=0;u<_.translatable_placeholders.length;u++){var g=_.translatable_placeholders[u];r.edit_strings_context&&_.update_strings_context(g.phrase.id,g.phrase.context),g.phrase.elements||(g.phrase.elements=[],_.delayed_rebuild_panel_phrases()),_.addPhraseToElement(o,{id:g.phrase.id,placeholders:g.placeholders,attr:c.attr,plural_id:g.plural_id}),g.phrase.elements.push(c)}o.addClass(_.element_classname(o)),o.mouseenter(function(){_.hover_show_translation_badge(t)}),_.touch_optimized&&_.show_translation_badge(t)}return r.edit_strings_context&&_.update_strings_context(s.id,s.context),p}return _._load_phrases_delayed(i,function(){_.match_element_attributes(t)}),i}),e.nodeValue!==i&&!1!==(i=r.before_dom_insert(i,t,e.nodeName))&&(e.nodeValue=i,"value"===e.name&&(t.value=i))},get_translation_segment:function(t,e){return e=(e=parseInt(e))||0,void 0!==t.translation[e]?t.translation[e]:t.translation[0]},get_source_segment:function(t,e){return e=(e=parseInt(e))||0,void 0!==t.text[e]?t.text[e]:t.text[0]},get_placeholders:function(t,e){var i=[],n=[],a=t.match(_.regexp.placeholders),o=e.match(_.regexp.exactPhrase);if(o&&o[3]){var s=_.regexp.delimiterPart(o[1],o[2]);n=o[3].toLowerCase().indexOf(s)>=0?_.split(o[3],s):[o[3]]}return null!==a&&(i=a),[i,n]},get_icu_placeholders:function(t,e){var i,n=[],a=[],o=e.match(_.regexp.exactPhrase);if(o&&o[3]){var s=_.regexp.delimiterPart(o[1],o[2]);i=o[3].toLowerCase().indexOf(s)>=0?_.split(o[3],s):[o[3]]}for(var r=0;r<i.length;r++){var l=i[r].split("=");n.push(l.shift()),a.push(l.join("="))}return[n,a]},handle_document_title:function(t){t.firstChild&&(t.innerHTML=_.regexp.wrapText(t.innerHTML),_.phrases[0]={id:"0",text:["%s"],translation:[""],hidden:"0",status:"translated"},_.match_element_text(t.firstChild,t))},handle_element:function(t,e,i){var a,o,s,l=n(t),d=_.get_source_segment(e,i);this.translatable_placeholders=[],o=void 0!==t.innerHTML?t.innerHTML:t.textContent,s=e.is_icu?_.get_icu_placeholders(d,o):_.get_placeholders(d,o),a=_.phrase2preview(e,s,i),r.edit_strings_context&&_.update_strings_context(e.id,e.context),!1!==(a=r.before_dom_insert(a,t))&&(void 0!==t.innerHTML?t.innerHTML=a:t.textContent=a);var p={id:e.id,element:t,placeholders:s,attr:!1,plural_id:i};e.elements||(e.elements=[],_.delayed_rebuild_panel_phrases()),_.addPhraseToElement(l,p),e.elements.push(p);for(var c=0;c<this.translatable_placeholders.length;c++)this.translatable_placeholders[c].phrase.elements||(this.translatable_placeholders[c].phrase.elements=[],_.delayed_rebuild_panel_phrases()),r.edit_strings_context&&_.update_strings_context(this.translatable_placeholders[c].phrase.id,this.translatable_placeholders[c].phrase.context),_.addPhraseToElement(l,{id:this.translatable_placeholders[c].phrase.id,placeholders:this.translatable_placeholders[c].placeholders,attr:p.attr,plural_id:this.translatable_placeholders[c].plural_id}),this.translatable_placeholders[c].phrase.elements.push(p);if(l.addClass(_.element_classname(l)),l.is("option")||l.parent().is("option")){var u=l.closest("select");u&&(u.addClass(_.element_classname(u)),t=u.get(0))}_.editor.currentTranslation&&_.editor.currentTranslation.id===e.id&&(_.editor.currentTranslation=e,_.update_active_phrase_highlight()),n(t).off("mouseenter").mouseenter(function(){_.hover_show_translation_badge(t)}),_.touch_optimized&&!n(t).is("select")&&_.show_translation_badge(t)},phrase2preview:function(t,e,i){var n=_.get_translation_segment(t,i),a=_.plurals_preview||1===t.text.length,o="";if(this.translation_preview.id===t.id&&this.translation_preview.plural_id==i&&(o=this.translation_preview.value),a&&!0===_.translations_preview&&o.length)return t.is_icu?_.replace_placeholders_icu(o,e):_.replace_placeholders(o,e);if(a&&!0===_.translations_preview&&n.length)return t.is_icu?_.replace_placeholders_icu(n,e):_.replace_placeholders(n,e);var s=_.get_source_segment(t,i);return t.is_icu?_.replace_placeholders_icu(s,e):_.replace_placeholders(s,e)},replace_placeholders_icu:function(t,e){for(var i=e[0].slice(0),n=e[1].slice(0),a=0;a<n.length;a++)n[a]=n[a].replace(_.regexp.globalPhrase,function(t,e,i){var n=_.phrases[e];if(n){var a=_.get_source_segment(n,i),o=n.is_icu?_.get_icu_placeholders(a,t):_.get_placeholders(a,t);return _.translatable_placeholders.push({phrase:n,placeholders:o,plural_id:i}),_.phrase2preview(n,o,i)}return t});var o={},s=new MessageFormatLight(_.language.code);for(a=0;a<i.length;a++)o[i[a]]=n[a];return(t=s.compiler(t,o))?_.sanitizing_text(t):_.insert_source_text_in_dom()},insert_source_text_in_dom:function(){var t,e=_.editor.currentTranslation;if(e.is_icu){for(var i=e.elements[0].placeholders,n={},a=new MessageFormatLight(_.language.code),o=0;o<i[0].length;o++)n[i[0][o]]=i[1][o];t=a.compiler(e.text[0],n)}else t=_.get_source_segment(e,e.elements[0].plural_id);return _.sanitizing_text(t)},sanitizing_text:function(t){return t=e.tags(t,["meta","base","iframe","object","embed","script","style","isindex","applet","form"]),(t=(t=e.attributes(t)).replace(/\b(on\w+=(["'])?.*?\2)/gi,"")).replace(/\\n/g,"\n")},replace_placeholders:function(t,e){for(var i=e[0].slice(0),n=e[1].slice(0),a=0;a<n.length;a++)n[a]=n[a].replace(_.regexp.globalPhrase,function(t,e,i){var n=_.phrases[e];if(n){var a=_.get_source_segment(n,i),o=n.is_icu?_.get_icu_placeholders(a,t):_.get_placeholders(a,t);return _.translatable_placeholders.push({phrase:n,placeholders:o,plural_id:i}),_.phrase2preview(n,o,i)}return t});return n.length>0&&(t=t.replace(_.regexp.placeholders,function(t){for(var e=0;e<i.length;e++)if(i[e]===t&&void 0!==n[e]){var a=n[e];return i.splice(e,1),n.splice(e,1),a}return t})),_.sanitizing_text(t)},get_element_position:function(t){var e,i,a,o=0,s=0,r=0,l=0,d=!1,p=t;for("OPTION"===t.tagName&&(t=n(t).closest("select").get(0));t;)"fixed"===(e=window.getComputedStyle(t)).getPropertyValue("position")&&(d=!0),o+=t.offsetLeft-t.scrollLeft+t.clientLeft,s+=t.offsetTop-t.scrollTop+t.clientTop,t=t.offsetParent===document.body?null:t.offsetParent;for(t=p;t;)(a=(i=(e=window.getComputedStyle(t)).transform||e.webkitTransform||e.mozTransform).match(/^matrix3d\((.+)\)$/))?(r=parseFloat(a[1].split(", ")[12]),l=parseFloat(a[1].split(", ")[13])):(r=(a=i.match(/^matrix\((.+)\)$/))?parseFloat(a[1].split(", ")[4]):0,l=a?parseFloat(a[1].split(", ")[5]):0),o+=r,s+=l,t=t.parentElement===document.body?null:t.parentElement;return{left:o,top:s,position:d?"fixed":"absolute"}},create_translation_badge:function(t){var e="crowdin-translation-badge",i=n("#"+e),a=!1;if(_.touch_optimized&&!n(t).is("area, base, br, col, command, embed, hr, img, input, textarea, wbr")&&(a=!0),!i.length||a){var o=_.dialog_zindex;i=n('<span class="crowdin-jipt"><span class="jipt-badge-inner"></span></span>'),a?0===n(t).children("."+e).length&&i.addClass(e).prependTo(n(t)):i.attr("id",e).css("position","absolute").css("z-index",--o).appendTo("body").mouseleave(function(){_.hide_translation_badge()})}if(!a){var s=_.get_element_position(t);i.css("top",s.top-7+"px").css("left",s.left-7+"px").css("position",s.position)}return i},get_element_data:function(t){var e=[],i=!1;if(n(t).data("phrases"))e=n(t).data("phrases");else{var a=n(t).find("[class*=crowdin_jipt]");if(!a.length)return;e=a.first().data("phrases"),i=!0}return{is_parent_element:i,phrases:e,phrase:_.phrases[e[0].id]}},show_translation_badge:function(t){var e=_.get_element_data(t);if(e){var i=e.phrase,a=_.create_translation_badge(t);e.is_parent_element&&(t=n(t).find("[class*=crowdin_jipt]").get(0)),a.show().off("click").on("click",function(n){return e.phrases.length>1||"1"===i.hidden||_.get_phrase_status(i.status)===_.status.not_found||_.get_phrase_status(i.status)===_.status.not_visible_on_step?_.show_badge_popup(t,e.phrases):_.show_editor(i,t),n.stopPropagation(),n.preventDefault(),!1})}},hover_show_translation_badge:function(t){!_.touch_optimized||n(t).is("select")?setTimeout(function(){_.show_translation_badge(t)},1):0===n(t).children(".crowdin-translation-badge").length&&setTimeout(function(){_.show_translation_badge(t)},1)},show_badge_popup:function(t,e){_.hide_translation_badge();var i=_.get_element_position(t),a="<ul>";n("#crowdin-translation-badge-popup").length?n("#crowdin-translation-badge-popup").html(""):n("body").append(n("<div>").attr("id","crowdin-translation-badge-popup").addClass("crowdin-jipt").css({position:"absolute","z-index":_.dialog_zindex-1,display:"none"})),n("#crowdin-translation-badge-popup").css("top",i.top+"px").css("left",i.left+"px").css("position",i.position);for(var o=0;o<e.length;o++){var s=e[o].id,r="1"===_.phrases[s].hidden,l=_.get_phrase_status(_.phrases[s].status)===_.status.not_found,d=_.get_phrase_status(_.phrases[s].status)===_.status.not_visible_on_step;a+='<li class="'+(!_.user.is_leader&&r||l||d?"disabled":"")+'"><a href="javascript:void(0)" data-id="'+s+'" class="popup-phrase '+_.phrase_classname(_.phrases[s])+'_popup">',e[o].attr&&(a+='<span class="popup-phrase-attr">'+e[o].attr+":</span>"),r&&(a+='<span class="popup-phrase-attr">This string is hidden and should not be translated.</span>'),l&&(a+='<span class="popup-phrase-attr">String is not loaded. Probably it has been deleted.</span>'),d&&(a+='<span class="popup-phrase-attr">String is not loaded. This string is not in workflow step</span>');var p=_.phrase2preview(_.phrases[s],[[],[]],e[o].plural_id);a+=n("<span>"+p+"</span>").text(),a+="</a></li>"}a+="</ul>",n("#crowdin-translation-badge-popup").html(a).show(),n("#crowdin-translation-badge-popup li:not(.disabled) a.popup-phrase").click(function(e){var i=n(e.target).closest("a.popup-phrase").data("id");return n("#crowdin-translation-badge-popup").hide(),_.show_editor(_.phrases[i],t),!1}),_.autoHideBadgePopup()},autoHideBadgePopup:function(){n(document).one("utapstart mousedown",function(t){0===n(t.target).closest("#crowdin-translation-badge-popup").length?n("#crowdin-translation-badge-popup").hide():_.autoHideBadgePopup()})},hide_translation_badge:function(t){n("#crowdin-translation-badge").hide(),void 0!==t&&n(t).children(".crowdin-translation-badge").remove()},update_active_phrase_highlight:function(){if(n(".jipt-selected").removeClass("jipt-selected"),_.editor.currentTranslation.elements)for(var t=0;t<_.editor.currentTranslation.elements.length;t++){var e=n(_.editor.currentTranslation.elements[t].element);if(e.addClass("jipt-selected"),e.is("option")||e.parent().is("option")){var i=e.closest("select");i&&i.addClass("jipt-selected")}}},highlight_panel_opened_phrase:function(){_.editor.currentTranslation&&(_.translationDialog.content.find("#jipt-translations").find("li.active").removeClass("active"),_.translationDialog.content.find("#jipt-translations").find("a[rel="+_.editor.currentTranslation.id+"]").parent().addClass("active"))},update_phrase_dom_highlight:function(){if(_.editor.currentTranslation.elements)for(var t=0;t<_.editor.currentTranslation.elements.length;t++){var e=_.editor.currentTranslation.elements[t].element,i=n(e),a=_.element_classname(i);if(i.removeClass(function(t,e){return(e.match(/\bcrowdin_jipt_\S+/g)||[]).join(" ")}).addClass(a),i.is("option")||i.parent().is("option")){var o=i.closest("select");if(o)for(var s in o.removeClass(function(t,e){return(e.match(/\bcrowdin_jipt_\S+/g)||[]).join(" ")}),_.status)o.find("[class*=crowdin_jipt_"+_.status[s]+"]").length&&o.addClass("crowdin_jipt_"+_.status[s])}}},update_phrase_highlight:function(){if(_.editor.currentTranslation){var t=_.phrase_classname(_.editor.currentTranslation)+"_item";_.translationDialog.content.find("#jipt-translations a[rel="+_.editor.currentTranslation.id+"]").removeClass(function(t,e){return(e.match(/\bcrowdin_jipt_\S+/g)||[]).join(" ")}).addClass(t)}},get_next_phrase:function(t){var e={id:null,element:null},i=n(t);if(i.length){var a=_.get_first_untranslated(i,"next",!0);if(!a){var o=".crowdin_jipt_untranslated, .crowdin_jipt_partially_translated";if(!(i=_.findNext("next",i,o)||_.findNext("next",n(document),o)))return e;if(a=_.get_first_untranslated(i),!parseInt(a))return _.get_next_phrase(i)}e.id=a,e.element=i}return e},get_prev_phrase:function(t){var e={id:null,element:null},i=n(t);if(i.length){var a=_.get_first_untranslated(i,"prev",!0);if(!a&&(i=_.findNext("prev",i,".crowdin_jipt_untranslated, .crowdin_jipt_partially_translated")).length&&(a=_.get_first_untranslated(i,"prev"),!parseInt(a)))return _.get_prev_phrase(i);e.id=a,e.element=i}return e},show_next_element:function(t){var e=_.get_next_phrase(t);if(!e.id){var i=_.findNext("next",n(t),".crowdin_phrase")||_.findNext("next",n(document),".crowdin_phrase");return i&&_.show_editor(_.get_element_data(i).phrase,i),void _.refresh_suggestions()}_.show_editor(_.phrases[e.id],e.element.get(0))},show_prev_element:function(t){var e=_.get_prev_phrase(t);if(e.id)_.show_editor(_.phrases[e.id],e.element.get(0));else{var i=_.findNext("prev",n(t),".crowdin_phrase")||_.findNext("prev",n(document),".crowdin_phrase");if(i){var a=_.get_element_data(i).phrase;if(!a.visible_on_step)return void _.show_prev_element(i[0]);_.show_editor(a,i)}}},get_first_untranslated:function(t,e,i){var n=null;if(t.data("phrases")){var a=t.data("phrases").slice(),o=!1;"prev"===e&&a.reverse();for(var s=0;s<a.length;s++){var r=_.phrases[a[s].id];if((this.get_phrase_status(r.status)===this.status.untranslated||this.get_phrase_status(r.status)===this.status.partially_translated)&&"1"!==r.hidden&&"0"!==r.id){if(!i){n=r.id;break}if(o){n=r.id;break}r.id===_.editor.currentTranslation.id&&(o=!0)}}}return n},show_settings:function(t){"hotkeys"===t?_.hotkeys_settings():_.editor_settings(),n(".jipt-dialog-title h4",".jipt-editor-dialog").text("hotkeys"===t?"Hotkeys Settings":"Editor Settings"),_.editorDialog.jiptDialog({action:"open"})},show_editor:function(t,e){if(!_.user.is_logged_in)return alert("Login first to be able submit translations"),void _.show_login_panel();_.place_translation_preview(),_.editor.currentTranslation=t,e?_.editor.currentTranslation.active_element=e:_.editor.currentTranslation.elements&&(_.editor.currentTranslation.active_element=_.editor.currentTranslation.elements[0].element),_.update_active_phrase_highlight(),_.editorDialog.jiptDialog({action:"open"}),_.editorDialog.jiptDialog({action:"toggle_minimized_show"}),_.highlight_panel_opened_phrase();var i=[];if(_.editor.currentTranslation.active_element){var a=_.get_prev_phrase(_.editor.currentTranslation.active_element).id,o=_.get_next_phrase(_.editor.currentTranslation.active_element).id;o&&i.push(+o),a&&i.push(+a)}_.show_string(t.id,i),_.plurals_preview||(1===t.text.length?n("#jipt-preview-available-msg").hide():n("#jipt-preview-available-msg").show())},show_string:function(t,e){var i={msg_type:"show_string",id:t,preload_ids:e};_.send_post_message(i)},refresh_suggestions:function(){_.send_post_message({msg_type:"refresh_suggestions"})},_get_target_languages_options:function(){for(var t=l.get("language_code"),e="",i="",n=0;n<_.target_languages.length;n++)i="",_.target_languages[n].code===t&&(i="selected"),e+='<option value="'+_.target_languages[n].code+'" data-id="'+_.target_languages[n].id+'" '+i+" >",e+=_.target_languages[n].name,e+="</option>";return e},getWorkflowStepsOptions:function(t){var e=l.get("workflow_step_id"),i="",n=[];if(_.workflowSteps.length){_.workflowSteps.forEach(function(e){e.languages.map(function(t){return t.code}).indexOf(t)>=0&&n.push(e)});for(var a=0;a<n.length;a++){var o=document.createElement("option");o.value=n[a].id,o.innerHTML=n[a].type,n[a].id===e&&(o.defaultSelected=!0),i+=o.outerHTML}}return i},show_login_panel:function(){var t=_.loginDialog.content.find("#crowdin-login-language-field");t.html(_._get_target_languages_options()),_.getWorkflowStepsOptions(n(t).val())&&_.loginDialog.content.find("#crowdin-login-workflow-step-field").html(_.getWorkflowStepsOptions(n(t).val())).parents(".workflow-step-group").removeClass("hide"),_.loginDialog.content.find(".crowdin-languages-panel, .crowdin-login-failed").hide(),_.loginDialog.content.find(".crowdin-login-panel").show(),_.loginDialog.jiptDialog({action:"open",position:"center"}),_.loginDialog.content.find("#crowdin-login-field").focus(),_.place_close_btn()},show_languages_panel:function(){var t=_.loginDialog.content.find("#crowdin-language-field");t.html(_._get_target_languages_options()),_.getWorkflowStepsOptions(n(t).val())&&_.loginDialog.content.find("#crowdin-workflow-step-field").html(_.getWorkflowStepsOptions(n(t).val())).parents(".workflow-step-group").removeClass("hide"),_.loginDialog.content.find(".crowdin-login-panel, .crowdin-login-failed").hide(),_.loginDialog.content.find(".crowdin-languages-panel").show(),_.loginDialog.jiptDialog({action:"open",position:"center"})},show_login_failed_panel:function(){var t=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,e={isOpera:t,isFirefox:"undefined"!=typeof InstallTrigger,isSafari:Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,isChrome:!!window.chrome&&!t,isIE:!!document.documentMode};for(var i in e)if(!0===e[i]){var n=i.substring(2).toLowerCase();_.loginDialog.content.find(".crowdin-login-failed-help-heading").show(),_.loginDialog.content.find(".crowdin-login-failed-help-"+n).show();break}_.loginDialog.content.find(".crowdin-login-panel, .crowdin-languages-panel").hide(),_.loginDialog.content.find(".crowdin-login-failed").show(),_.loginDialog.jiptDialog({action:"open",position:"center"}),_.loginDialog.content.find(".crowdin-jipt-to-login").focus(),_.place_close_btn()},set_current_language:function(t,e,i){_.language.code=t,_.language.id=e,_.language.name=i,l.save("language_code",t),l.save("language_id",e),l.save("language_name",i)},setCurrentWorkflowStep:function(t,e){_.workflowStep.id=t,_.workflowStep.type=e,l.save("workflow_step_id",t),l.save("workflow_step_type",e)},_login_action:function(){var t=_.loginDialog.content.find("#crowdin-login-language-field option:selected");_.set_current_language(t.val(),t.data("id"),t.html());var e=_.loginDialog.content.find("#crowdin-login-workflow-step-field option:selected");_.setCurrentWorkflowStep(e.val(),e.html()),window.location.href=d.getJiptPath("login")},_join_action:function(){window.location.href=d.getJiptPath("join")},_logout_action:function(){_.ajax(d.getFullUrl("/jipt/logout"),{project:p()},function(t){t.success?window.location.reload():alert("An error occurred while logging out")})},search:function(t,e){"[object Object]"===Object.prototype.toString.call(e)&&(e=n.map(e,function(t){return t}));for(var i=0;i<e.length;i++)if(-1!==e[i].toLowerCase().indexOf(t.toLowerCase()))return!0;return!1},rebuild_panel_phrases:function(t,e){_.translationDialog.content.find(".jipt-phrases-to-translate").html("");var i="",a=0,o=_.panel_pages,s=0;e&&/^\+?(0|[1-9]\d*)$/.test(e)&&(s=e,e>=o&&(s=o-1));var r=50*s;for(var l in _.panel_page=s,_.phrases){var d=_.phrases[l];if("0"!==l&&this.get_phrase_status(d.status)!==_.status.not_found&&this.get_phrase_status(d.status)!==_.status.not_visible_on_step){var p="1"===d.hidden,c=!_.user.is_leader&&p?"disabled":"",g=p?'title="This string is hidden and should not be translated."':"";(!t||this.search(t,d.text)||this.search(t,d.translation))&&(!0!==_.translations_filter||d.elements)&&(a<r||a>=r+50?a++:(i+="<li "+g+' class="'+c+'"><a href="javascript:void(0)" class="'+_.phrase_classname(d)+'_item" rel="'+l+'">',i+=u(d.text[0]),i+="</a></li>",a++))}}var h=_.translations_filter?" The search was made among the texts of current page.":"";if(0===a&&(i+='<li><div style="padding: 30px; text-align: center; color: #999">No items.'+h+"</div></li>"),_.translationDialog.content.find(".jipt-phrases-to-translate").html(i),o=Math.ceil(a/50),_.panel_pages=o,o<2)n("#translation_panel_paging").hide();else{var f=2*o.toString(10).length+3,m=n("#translation_panel_prev_page"),v=n("#translation_panel_next_page");n("#translation_panel_current_page").attr({size:f}).val(s+1+" / "+o),0===s?m.addClass("jipt-page-disabled"):m.removeClass("jipt-page-disabled"),s+1===o?v.addClass("jipt-page-disabled"):v.removeClass("jipt-page-disabled"),n("#translation_panel_paging").show()}_.highlight_panel_opened_phrase()},delayed_rebuild_panel_phrases:function(){clearTimeout(_.rebuild_panel_timeout),_.rebuild_panel_timeout=setTimeout(function(){_.rebuild_panel_phrases(_.panel_search_phrase,_.panel_page)},500)},_show_join_translations_dialog:function(t){var e=this,i='<div style="text-align: center; height: 265px;"><img style="margin-top:35px;" src="'+d.jiptCDN+'/images/preloader.gif" /></div>',a=n("<div>").html(i);a.content=a.jiptDialog({modal:!0,width:Math.min(window.innerWidth-2,window.outerWidth-2,550)+"px",height:"265px",iframe:!0,drags:!0,minimize_btn:!1,close_btn:!1,icon:"crowdin",custom_class:"jipt-join-translations",title_pane:"<h4>Join Translation Team</h4>",buttons_pane:'<div style="text-align:right; margin: 8px 20px;"><button type="button" id="jipt-join-logout" class="jipt-btn" style="margin-right: 8px;">Logout</button><button type="button" class="jipt-btn" id="jipt-join-language">Send Request</button></div>'}),n("#crowdin-jipt-mask > div").hide(),a.jiptDialog({action:"open"}),_.ajax(d.getFullUrl("/jipt/join_dialog"),{language_id:t.language_id,project_id:t.project_id,project:p()},function(t){var i="";switch(t.dialog_type){case"sent":n("#jipt-join-language").remove(),i=i=e.getJoinGroupRequestWasSentTpl(t.strings.requestHasBeenSentForApproval);break;case"moderate":i=e.getJoinProjectModerate(t.project,t.language,t.strings.inOrderToJoinMembershipShouldBeReviewed,t.strings.whyDoYouWantToJoinQ);break;case"open":i=e.getJoinProjectOpenTpl(t.project,t.language,t.strings.youAreAboutToJoin)}a.content.find("body").html(i),a.jiptDialog({action:"center"}),a.content.find("textarea").focus()}),n("#jipt-join-language").click(function(){return _.ajax(d.getFullUrl("/jipt/send_invitation_request"),{language_id:t.language_id,project_id:t.project_id,project:p(),text:a.content.find("textarea").val().substr(0,1500)},function(t){var i="group_sent"===t.dialog_type?e.getJoinGroupRequestWasSentTpl(t.strings.requestHasBeenSentForApproval):e.getJoinSuccessTpl(t.strings.youAreNowMember);a.html(i)}),n("#jipt-join-language").parent().remove(),a.html(i),!1}),n("#jipt-join-logout").click(function(){return _._logout_action(),!1}),_.set_current_language("",0,"")},getJoinGroupRequestWasSentTpl:function(t){return'<div style="text-align: center; margin: 20px">'+t+"</div>"},getJoinProjectOpenTpl:function(t,e,i){return'<div class="alert alert-info">'+i+'</div><form><input type="hidden" id="join_project_id" value="'+t.id+'"><input type="hidden" id="join_language_id" value="'+e.id+'"></form>'},getJoinProjectModerate:function(t,e,i,n){return'<div class="alert alert-info">\n'+i+'</div><form><fieldset><input type="hidden" id="join_project_id" value="'+t.id+'"><input type="hidden" id="join_language_id" value="'+e.id+'"><div class="control-group" style="margin-top: 20px;"><label for="join_group_request">'+n+'</label><textarea rows="5" id="join_group_request" class="input-block-level"></textarea></div></fieldset></form>'},getJoinSuccessTpl:function(t){return'<div class="alert alert-success">'+t+"</div>"},_show_no_texts_warning:function(){var t='<div><strong>Crowdin In-Context was unable to identify translatable texts.</strong><p>Possible reasons:</p><ul style="margin-left: 15px; list-style-type: square"><li>the pseudo-language is not integrated;</li><li>current application locale is not set to the language that contains Crowdin In-Context pseudo-language;</li><li>there are no translatable texts on this page.</li></ul><p>Check the <a target="_blank" href="'+d.getEntryPoint()+"/project/"+_.projectId+'/settings#in-context">integration guide</a> for more information or <a href="'+d.getEntryPoint()+'/contacts" target="_blank">contact Crowdin Support</a></p><div class="jipt-control-group"><label class="jipt-checkbox"><input type="checkbox" id="skip_no_phrases_msg">Do not show this message again.</label></div></div>',e=n('<div id="no_texts_warning">').html(t);e.content=e.jiptDialog({modal:!1,width:Math.min(window.innerWidth-2,window.outerWidth-2,550)+"px",height:"320px",iframe:!0,drags:!0,minimize_btn:!1,icon:"crowdin",custom_class:"jipt-no-translations",title_pane:"<h4>Nothing to translate</h4>",buttons_pane:'<div style="text-align:right; margin: 8px 20px;"><button type="button" class="jipt-btn jipt-dialog-close">Close</button></div>'}),e.content.find("#skip_no_phrases_msg").click(function(){1==n(this).prop("checked")?l.save("no_phrases_warning_disabled","yes"):l.save("no_phrases_warning_disabled","no")}),e.jiptDialog({action:"open"})},_show_error_dialog:function(t){var e=n("<div>").html(t);e.jiptDialog({modal:!0,width:Math.min(window.innerWidth-2,window.outerWidth-2,450)+"px",drags:!1,minimize_btn:!1,close_btn:!1,icon:"crowdin",title_pane:"<h4>Crowdin In-Context</h4>"}),e.jiptDialog({action:"open"}),_.place_close_btn()},_handle_jipt_error:function(t){var e="",i=t.project_id?d.getEntryPoint()+"/project/"+t.project_id+"/settings#in-context":"",n=d.getEntryPoint()+"/contacts";switch(t.error_code){case"auth_error":alert("Your session has expired. Please log in again"),window.location.reload();break;case"moderate_language":this._show_join_translations_dialog(t.data);break;case"project_not_found":this._show_error_dialog('<p style="margin: 0 0 10px; padding: 0;"><strong>Translation mode is unavailable.</strong><p>Crowdin In-Context can not find appropriate project at Crowdin. Please contact project manager for further assistance.');break;case"private_project":this._show_error_dialog("It seems that you do not have permission to participate. Try to switch "+t.brand_name+' account if you have several or contact <a href="'+t.owner_url+'">project manager</a> for further assistance.');break;case"jipt_disabled":e=t.is_manager?'<p style="margin: 0 0 10px; padding: 0;"><strong>Crowdin In-Context is disabled for this project.</strong></p>Check the <a target="_blank" href="'+i+'">integration guide</a> for more information or <a href="'+n+'" target="_blank">contact Crowdin Support</a>':'<p style="margin: 0 0 10px; padding: 0;"><strong>Translation mode is currently disabled.</strong></p>Please contact <a href="'+t.owner_url+'">project manager</a> for further assistance.',this._show_error_dialog(e);break;case"denied":this._show_error_dialog("Sorry, you do not have access to this project.");break;case"mfa_denied":this._show_error_dialog("The project has security requirements.");break;case"timeout":this._show_error_dialog("Oops. Could not load data from remote server.");break;case"language_not_found":this._show_error_dialog("The specified language was not found in your project. Please reload the page and try again.")}},element_classname:function(t){if(t.is("select")){var e=[];for(var i in _.status)t.find("[class*=crowdin_jipt_"+_.status[i]+"]").length&&e.push("crowdin_jipt_"+_.status[i]);return t.find("[class*=crowdin_jipt_no_preview]").length&&e.push("crowdin_jipt_no_preview"),e.join(" ")}for(var a=t.data("phrases")||[],o=[],s="",r=0;r<a.length;r++){var l=_.phrases[a[r].id];o.push(_.phrase_classname(l)),s||(s=_.phrase_no_preview_classname(l))}for(var i in _.status){var d="crowdin_jipt_"+_.status[i];if(n.inArray(d,o)>=0)return d+s}return""+s},phrase_no_preview_classname:function(t){return _.plurals_preview||1===t.text.length?"":" crowdin_jipt_no_preview"},phrase_classname:function(t){return"1"===t.hidden?"crowdin_jipt_hidden":"crowdin_jipt_"+this.get_phrase_status(t.status)},addPhraseToElement:function(t,e){var i=[];t.data("phrases")&&(i=t.data("phrases"));for(var n=0;n<i.length;n++)if(i[n].id===e.id)return;i.push(e),t.data("phrases",i)},ajax:function(t,e,i){n.ajax({url:t,dataType:"jsonp",data:e,timeout:45e3,complete:function(t,e){"timeout"===e&&_._handle_jipt_error({error_code:"timeout"})},success:function(t){t.jipt_error?_._handle_jipt_error(t):i(t)}})},findNext:function(t,e,i){for(var n=_[t](e);;){if(!1===n)return!1;if(n.is(i))return n;n=_[t](n)}},next:function(t){var e=t.find("*:first");if(0!==e.length)return e;var i=t.next();if(0!==i.length)return i;for(var n=t.parent();;){if(n.is("html")||0===n.length)return!1;var a=n.next();if(0!==a.length)return a;n=n.parent()}},prev:function(t){var e=t.prev();if(0!==e.length){var i=e.find("*:last");return 0!==i.length?i:e}return!t.is("html")&&0!==t.length&&t.parent()},_load_phrases_delayed:function(t,e){!0!==r.preload_texts&&(n.extend(_._phrases.need_load,_.get_phrases_from_text(t)),_._phrases.callbacks.push(e),clearTimeout(_._phrases.load_timeout),_._phrases.load_timeout=setTimeout(function(){var t=_._phrases.need_load,e=_._phrases.callbacks.slice(0);for(var i in _._phrases.need_load={},_._phrases.callbacks=[],t)_._phrases.was_loaded[i]&&delete t[i];n.extend(_._phrases.was_loaded,t),n.isEmptyObject(t)||_._load_phrases(t,e)},200))},_load_phrases:function(t,e){var i=0,a=0;if(r.edit_strings_context&&!r.preload_texts&&(a=1),!0===r.preload_texts)var o=["all"];else{var s=_.serialize_ids(t);if(!(o=_.string_chunks(s,1400,".")).length){for(var l=0;l<e.length;l++)e[l]();return void _.rebuild_panel_phrases()}}for(var c=0;c<o.length;c++)_.ajax(d.getFullUrl("/jipt/phrases"),{language_code:_.language.code,workflow_step_id:_.workflowStep.id,project:p(),edit_strings_context:a,phrase_ids:o[c]},function(a){if(i++,n.extend(_.phrases,a.data),i===o.length){for(var s in t)void 0===_.phrases[s]?_.phrases[s]={hidden:"0",id:s,status:"not_found",text:[_.not_found_warning],translation:[""]}:r.domain&&0==_.phrases[s].visible_on_step&&(_.phrases[s].status="not_visible_on_step");for(var l=0;l<e.length;l++)e[l]();_.delayed_rebuild_panel_phrases()}})},update_strings_context:function(t,e){if("0"!==t&&void 0!==e&&!r.preload_texts){var i=r.edit_strings_context(e);if(a&&window.clearTimeout(a),i.length>1500)return void console.warn("Crowdin In-Context: Context cannot be updated because it is too long. String ID: "+t);if(e===i)return;if(n.inArray(t,o.updatedStrings)>0)return;o.updatedStrings.push(t);var s=o.newStrings.slice();s.push({id:t,context:i}),JSON.stringify(s).length>1500&&_.send_strings(),o.newStrings.push({id:t,context:i}),a=window.setTimeout(function(){_.send_strings()},1e3)}},send_strings:function(){_.ajax(d.getFullUrl("/jipt/edit_strings_context"),{project:p(),contexts:JSON.stringify(o.newStrings)},function(){}),o.newStrings.splice(0,o.newStrings.length)},get_phrases_from_text:function(t){for(var e,i={};null!==(e=_.regexp.globalStartPhrase.exec(t));)i[parseInt(e[1])]=!0;return i},serialize_ids:function(t){var e=[],i=[],n=0;for(var a in t)a-n!=1&&0!==i.length&&(e.push(i),i=[]),i.push(a),n=a;0!==i.length&&e.push(i);for(var o=[],s=0;s<e.length;s++){var r=e[s][0];r===(n=e[s][e[s].length-1])?o.push(r):o.push(r+"-"+n)}return o.join(".")},string_chunks:function(t,e,i){for(var n=[];;){var a=t.indexOf(i,e);if(-1===a){0!==t.length&&n.push(t);break}n.push(t.slice(0,a)),t=t.slice(a+1)}return n},split:function(t,e){for(var i=[],n=e.length;;){var a=t.toLowerCase().indexOf(e);if(-1===a){i.push(t);break}i.push(t.substr(0,a)),t=t.substr(a+n)}return i},get_workflow_proofread_step_id:function(){var t=this.user.workflow_step_id;return 1==t||-1==n.inArray(t,this.workflow_step_ids)?this.workflow_step_ids[this.workflow_step_ids.length-1]:t},get_phrase_status:function(t){if("string"==typeof t)return t;var e=this.get_workflow_proofread_step_id(),i=this.status.untranslated;return t.translated&&(i=this.status.translated),t.approved[e]&&(i=this.status.approved),t.partially_approved[e]&&(i=this.status.partially_approved),t.partially_translated&&(i=this.status.partially_translated),i}};window.location.search.match("\\bdisable_jipt\\b")||_.init(),window.jipt={target_language:l.get("language_code"),set_draft_suggestion:function(t,e){_.set_draft_suggestion(t,e)},save_suggestions:function(t,e,i){_.save_suggestions(t,e,i)}}}();var e=new function(){this.uri_protocol_named_ref_map={Tab:"\t",NewLine:"\n"},this.uri_blacklist_protocols={javascript:1,data:1,vbscript:1,mhtml:1},this.uri_protocol_colon=/(?::|&#[xX]0*3[aA];?|&#0*58;?|&colon;)/,this.uri_protocols_whitespaces=/\\n|(?:^[\x00-\x20]+|[\t\n\r\x00]+)/g,this.special_attr_value_unquoted_chars=/(?:^(?:["'`]|\x00+$|$)|[\x09-\x0D >])/g,this.sensitive_html_entities=/&(?:#([xX][0-9A-Fa-f]+|\d+);?|(Tab|NewLine|colon|semi|lpar|rpar|apos|sol|comma|excl|ast|midast|ensp|emsp|thinsp);|(nbsp|amp|AMP|lt|LT|gt|GT|quot|QUOT);?)/g,this.null_value=/\x00/g,this.url=function(t){return this.uri_blacklist_protocols[this._getProtocol(this._convertSpecialChars(t))]?"#":t},this.attributes=function(t){var e,i,n,a,o=[];for(e=/\s+on\w*\s*=\s*("([^"]*")|'[^']*'|([^'">\s]*))/gi;null!==(i=e.exec(t));)t=t.replace(i[0],"");for(e=/\bhref\s*=[^"']*(?:"([^"]*)"|'([^']*)')/gi;null!==(i=e.exec(t));)o.push(i[1]);for(a in o)n=this.url(o[a]),t=t.replace(o[a],n);return t},this.tags=function(t,e){var i=this,n=!1;return e.map(function(e){var a=new RegExp("<"+e+"\\b[^<]*(?:(?!<\\/"+e+">)<[^<]*)*((<\\/"+e+">)|>)","ig"),o=t.match(a);if(o)if(n=!0,1===o.length){var s=a.exec(t);t=i._replaceTags(t,s)}else t=i._replaceTags(t,o)}),n&&(t=i.tags(t,e)),t},this._replaceTags=function(t,e){for(var i=0,n=e.length;i<n;i++)t=t.replace(e[i],"");return t},this._getRawProtocol=function(t){return 2===(t=t.split(this.uri_protocol_colon,2)).length&&t[0]?t[0]:null},this._getProtocol=function(t){var e=this;return(t=this._getRawProtocol(t.replace(this.null_value,"")))?this._htmlDecode(t,this.uri_protocol_named_ref_map,this.sensitive_html_entities,function(){return this.replace(e.uri_protocols_whitespaces,"").toLowerCase()}):null},this._getCharacter=function(t){return!isFinite(t)||t<=0||t>1114111||11===t||t>=1&&t<=8||t>=14&&t<=31||t>=127&&t<=159||t>=64976&&t<=65007||65535==(65535&t)||65534==(65535&t)?"":this._fromCodePoint(t)},this._fromCodePoint=String.fromCodePoint||function(t){return 0===arguments.length?"":t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),t%1024+56320))},this._convertSpecialChars=function(t){return this._stringify(t,String.prototype.replace,this.special_attr_value_unquoted_chars,function(t){return"\t"===t?"&#9;":"\n"===t?"&#10;":"\v"===t?"&#11;":"\f"===t?"&#12;":"\r"===t?"&#13;":" "===t?"&#32;":">"===t?"&gt;":'"'===t?"&quot;":"'"===t?"&#39;":"`"===t?"&#96;":""})},this._stringify=function(t,e){return void 0===t?"undefined":null===t?"null":e.apply(t.toString(),[].splice.call(arguments,2))},this._htmlDecode=function(t,e,i,n){var a,o=[].splice.call(arguments,4),s=this;return this._stringify(t,function(){return a=this.replace(this.null_value,"").replace(i,function(t,i,n,a){return i?(i=Number(i[0]<="9"?i:"0"+i))>=55296&&i<=57343||13===i?"":s._getCharacter(i):e[n||a]||t}),n?n.apply(a,o):a})}};
},{}]},{},["ttqo"], null)
//# sourceMappingURL=/jipt.0a12f883.js.map